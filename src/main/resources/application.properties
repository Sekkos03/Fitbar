# ─── Application name and port ────────────────────────────────────────────────
spring.application.name=fitbar
server.port=${PORT:8080}

# ─── Datasource (use env-vars on Render, or fall back to local defaults) ────────
spring.datasource.url=${JDBC_DATABASE_URL:jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:fitbar}?useSSL=false&serverTimezone=UTC}
spring.datasource.username=${JDBC_DATABASE_USERNAME:${DB_USER:root}}
spring.datasource.password=${JDBC_DATABASE_PASSWORD:${DB_PASS:root}}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ─── JPA / Hibernate ──────────────────────────────────────────────────────────
# valid values: create | create-drop | update | validate | none
spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.show-sql=true

# ─── Disable Spring’s schema/sql init scripts in prod (use Flyway instead) ────
spring.sql.init.mode=never

# ─── (Optional) H2 console – keep disabled in production ───────────────────────
spring.h2.console.enabled=false
spring.h2.console.path=/h2-console

# ─── Logging & encoding ────────────────────────────────────────────────────────
logging.level.org.springframework.web=DEBUG
spring.servlet.encoding.enabled=true
spring.servlet.encoding.charset=UTF-8
